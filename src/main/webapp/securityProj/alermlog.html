<!DOCTYPE html>
<html  xmlns="http://www.w3.org/1999/html">
<head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <title>Title</title>

    <style type="text/css">
        table.gridtable {
            font-family: verdana,arial,sans-serif;
            font-size:17px;
            color:#919191;
            border-width: 1px;
            border-color: #666666;
            border-collapse: collapse;
        }
        table.gridtable th {
            border-width: 1px;
            padding: 2px;
            font-family:sans-serif;
            font-size:13px;
            color:#333333;
            border-style: solid;
            border-color: #F5FFFA;
            background-color: #dedede;
            text-align:left;
        }
        table.gridtable td {
            border-width: 1px;
            padding: 8px;
            border-style: solid;
            border-color: #F5FFFA;
            background-color:#F5FFFA;
        }


        h1{
            font-family:楷体;
            color:#4F4F4F;
            font-weight:normal;
            font-size: 39px;
        }
        .modal-header .close{
            margin-top:-2px
        }
        .close{
            float:right;font-size:21px;font-weight:bold;line-height:1;color:#000;text-shadow:0 1px 0 #fff;opacity:.2;filter:alpha(opacity=20)
        }
        .close:hover,.close:focus{
            color:#000;text-decoration:none;cursor:pointer;opacity:.5;filter:alpha(opacity=50)
        }
        button.close{padding:0;cursor:pointer;background:transparent;border:0;-webkit-appearance:none}
        .modal-title{margin:0;line-height:1.428571429}
        .modal-open{
            overflow:hidden
        }
        body.modal-open,.modal-open .navbar-fixed-top,.modal-open .navbar-fixed-bottom{
            margin-right:15px
        }
        .modal{
            position:fixed;
            top:0;
            right:0;bottom:0;left:0;z-index:1040;display:none;overflow:auto;overflow-y:scroll
        }
        .modal.fade .modal-dialog{
            -webkit-transform:translate(0,-25%);-ms-transform:translate(0,-25%);transform:translate(0,-25%);-webkit-transition:-webkit-transform .3s ease-out;-moz-transition:-moz-transform .3s ease-out;-o-transition:-o-transform .3s ease-out;transition:transform .3s ease-out
        }
        .modal.in .modal-dialog{
            -webkit-transform:translate(0,0);-ms-transform:translate(0,0);transform:translate(0,0)
        }
        .modal-dialog{
            z-index:1050;width:auto;padding:10px;margin-right:auto;margin-left:auto
        }
        .modal-content{
            position:relative;background-color:#fff;border:1px solid #999;border:1px solid rgba(0,0,0,0.2);border-radius:6px;outline:0;-webkit-box-shadow:0 3px 9px rgba(0,0,0,0.5);box-shadow:0 3px 9px rgba(0,0,0,0.5);background-clip:padding-box
        }
        .modal-backdrop{
            position:fixed;top:0;right:0;bottom:0;left:0;z-index:1030;background-color:#000
        }
        .modal-backdrop.fade{
            opacity:0;filter:alpha(opacity=0)
        }
        .modal-backdrop.in{
            opacity:.5;filter:alpha(opacity=50)
        }
        .modal-header{
            min-height:16.428571429px;padding:15px;border-bottom:1px solid #e5e5e5
        }
        .modal-header .close{
            margin-top:-2px}
        .modal-title{
            margin:0;line-height:1.428571429
        }
        .modal-body{
            position:relative;padding:20px
        }
        .modal-footer{
            padding:19px 20px 20px;margin-top:15px;text-align:right;border-top:1px solid #e5e5e5
        }
        .modal-footer:before,.modal-footer:after{
            display:table;content:" "
        }
        .modal-footer:after{
            clear:both
        }
        .modal-footer:before,.modal-footer:after{
            display:table;content:" "
        }
        .modal-footer:after{
            clear:both
        }
        .modal-footer .btn+.btn{
            margin-bottom:0;margin-left:5px
        }
        .modal-footer .btn-group .btn+.btn{
            margin-left:-1px
        }
        .modal-footer .btn-block+.btn-block{
            margin-left:0
        }@media screen and (min-width:768px){
            .modal-dialog{
                right:auto;left:50%;width:600px;padding-top:30px;padding-bottom:30px
            }
            .modal-content{
                -webkit-box-shadow:0 5px 15px rgba(0,0,0,0.5);box-shadow:0 5px 15px rgba(0,0,0,0.5)
            }
        }
    </style>

</head>
<body bgcolor="#F5FFFA">
</br></br></br></br></h1><hr color="#F0F0F0"/></br></br></br></br>
<h1>&nbsp;告警日志</h1><hr color="#F0F0F0"/>



<div align="center">

    <!-- Table goes in the document BODY -->
    <table class="gridtable" width="1150"  >
        <tr>
            <th><input name="remember" type="checkbox" id="remember" />告警ID</th>
            <th>告警IP</th>
            <th>告警名称</th>
            <th>操作</th>
        </tr>

        <!--<tr class="content">-->
            <!--<td>1</td><td>/192.168.3.1</td><td>京东</td>-->
        <!--</tr>-->
        <!--<tr>-->
            <!--<td>3</td><td>/192.168.3.11</td><td>淘宝</td>-->
        <!--</tr>-->
        <!--<tr>-->
            <!--<td>4</td><td>/192.168.8.1</td><td>QQ</td>-->
        <!--</tr>-->


    </table>




</div>


</body>
<script src="js/jquery-1.10.2.min.js"></script>
<script src="js/bootstrap.min.js"></script>
<script src="js/bootbox.min.js"></script>
<script src="js/commonUtil.js"></script>
<script>
    //进入页面 发送ajax请求 获取table值
    $.ajax({
        url:'',//'http://192.178.106.100:3000/mock/test',
        //dataType:'JSON',
        type:'GET',
        success:function(data){
            console.log('success data:'+JSON.stringify(data));
            //使用真实url时 将data注释
            var data = {
                "info": [{
                    "ID": "1",
                    "address":"/192.168.3.1",
                    "name": "淘宝"
                },{
                    "ID": "2",
                    "address":"/192.168.3.2",
                    "name": "京东"
                },{
                    "ID": "3",
                    "address":"/192.168.3.3",
                    "name": "QQ"
                },
                    {
                        "ID": "4",
                        "address":"/192.168.3.4",
                        "name": "天猫"
                    }
                    ,{
                        "ID": "5",
                        "address":"/192.168.3.6",
                        "name": "新浪"
                    }]
            };
            var option = data;
            rules(option);


        },
        error:function(data){
            alert('data error:'+JSON.stringify(data));
        }
    })

    function rules(option){
//        option.info.forEach(function(name,index){
//            console.log('name:'+name);
//            var tr = document.createElement("tr");
//            var grid = document.getElementById("grid");
//            var str = "<td>" + option.info[index].ID + "</td><td>" +
//                    option.info[index].address + "</td><td>" +
//                    option.info[index].name+ "</td><td><a href='javascript:;' onclick='deleteCurrentRow(this)'>删除</a></td>";
//            tr.innerHTML = str;
//            grid.appendChild(tr);
//        });
        for(var i=0;i<option.info.length;i++){

            var str = "<tr><td>" + option.info[i].ID + "</td><td>" +
                    option.info[i].address + "</td><td>" +
                    option.info[i].name+ "</td><td><a href='javascript:;' onclick='deleteCurrentRow(this)'>删除</a></td></tr>";

            $('.gridtable').append(str);

        }
    }

    function deleteCurrentRow(obj){
        var MSG = '您确定要删除吗？';
        var TITLE = '删除';
        function callBackFunction(){
            //删除操作 发送ajax请求到后台

            $.ajax({
                url:'',//'http://192.178.106.100:3000/mock/test',//此处接受后台url
                type:'GET',
                success:function(data){
                    console.log('data success:'+JSON.stringify(data));

                    //此处为假删除
                    var tr=obj.parentNode.parentNode;
                    var tbody=tr.parentNode;
                    tbody.removeChild(tr);
                    //只剩行首时删除表格
                    if(tbody.rows.length==1) {
                        tbody.parentNode.removeChild(tbody);
                    }
                },
                error:function(data){
                    alert('data error:'+JSON.stringify(data));
                }
            })
        }
        Util.bootBoxDialog(MSG,TITLE,callBackFunction)


    }
</script>

</html>